{"author":{"id":"708ccc11728eda0dd404c8de33ac6b44bac2ffc95b2ffc6ea90ce98ccdb43935"},"ops":[{"type":2,"timestamp":1551777270,"metadata":{"github-id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MjE4MDMzNTA5NA=="},"nonce":"Ofaw8oa9JuiLrGP2BPebs5En/5Y=","title":"data model backward incompatibility","was":"data model backward incompatibility in v0.3.0"},{"type":5,"timestamp":1551777281,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDIxODAzMzU1ODg="},"nonce":"T7wgaOG0Garg4e5XvxIdoKAoKj4=","added":["bug"],"removed":[]},{"type":3,"timestamp":1551779607,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQ2OTYxNTE0Nw==","github-url":"https://github.com/MichaelMure/git-bug/issues/101#issuecomment-469615147"},"nonce":"6fSopBlV6QeRaJsWTRo8bnj1XD8=","message":"I had a look at this issue. I didn't realize that you were using such a early version ...\n\nSo what is happening is that I changed the data model format in version [0.3.0](https://github.com/MichaelMure/git-bug/releases/tag/0.3.0) back in september, to use JSON instead of the go-only gob serialization format. Here is the issue as to why: https://github.com/MichaelMure/git-bug/issues/5\n\nDue to the very early nature of the project at that time (it was basically a prototype)I considered that I could make breaking changes for the sake of pushing the project forward. Hopefully you understand. The project right now is in a much better shape. The last updates introduced a radical changes in how identities are stored in the data model, while still being backward compatible, so I have good hopes that there will be no more data model breakage and that the 1.0 version, where I can actually guarantee that users can safely rely on git-bug, is not far away.\n\nSo, in short, there is no automated migration path available for this change. The best solution that I can give you would be to use an old binary to read your old bugs, and use a new one to insert them in the new format using copy/pastes. \n\nNow a problem you will have is that you can't run both version on the same repo, and the new version will fail to start properly if you have bugs considered invalid in your database. So you will need to copy you repository and clean all the bugs data to get a clean repo where you can run the new version. To remove all the bugs, you can run the following commands:\n\n```\n\tgit for-each-ref refs/bugs/ | cut -f 2 | xargs -r -n 1 git update-ref -d\n\tgit for-each-ref refs/remotes/origin/bugs/ | cut -f 2 | xargs -r -n 1 git update-ref -d\n ```\n\nIf there is still an error, you can also delete the `.git/git-bug` folder.\n\nSorry for the inconvenience :-|","files":null},{"type":6,"timestamp":1551779655,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDE5MjA5NDcxMQ=="},"nonce":"B5i4DVgLWi3snV7HII7LIdwDAHI=","target":"1f941566dc91ad239c73a1bbacf019f1be93012a801f9739ebe1719f23a6b867","message":"I had a look at this issue. I didn't realize that you were using such a early version ...\n\nSo what is happening is that I changed the data model format in version [0.3.0](https://github.com/MichaelMure/git-bug/releases/tag/0.3.0) back in september, to use JSON instead of the go-only gob serialization format. Here is the issue as to why: https://github.com/MichaelMure/git-bug/issues/5\n\nDue to the very early nature of the project at that time (it was basically a prototype)I considered that I could make breaking changes for the sake of pushing the project forward. Hopefully you understand. The project right now is in a much better shape. The last updates introduced a radical changes in how identities are stored in the data model, while still being backward compatible, so I have good hopes that there will be no more data model breakage and that the 1.0 version, where I can actually guarantee that users can safely rely on git-bug, is not far away.\n\nSo, in short, there is no automated migration path available for this change. The best solution that I can give you would be to use an old binary to read your old bugs, and use a new one to insert them in the new format using copy/pastes. \n\nNow a problem you will have is that you can't run both version on the same repo, and the new version will fail to start properly if you have bugs considered invalid in your database. So you will need to copy you repository and clean all the bugs data to get a clean repo where you can run the new version. To remove all the bugs, you can run the following commands:\n\n```\ngit for-each-ref refs/bugs/ | cut -f 2 | xargs -r -n 1 git update-ref -d\ngit for-each-ref refs/remotes/origin/bugs/ | cut -f 2 | xargs -r -n 1 git update-ref -d\n ```\n\nIf there is still an error, you can also delete the `.git/git-bug` folder.\n\nSorry for the inconvenience :-|","files":null},{"type":5,"timestamp":1551779621,"metadata":{"github-id":"MDE0OlVubGFiZWxlZEV2ZW50MjE4MDQ0MTQyNQ=="},"nonce":"2J/uno6I/UxkV0fMAcm7gtRBhgU=","added":[],"removed":["bug"]},{"type":2,"timestamp":1551779638,"metadata":{"github-id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MjE4MDQ0MjI0NA=="},"nonce":"/Ncb/VRzYLnERtMuP+rNkXGQm4c=","title":"data model backward incompatibility in v0.3.0","was":"data model backward incompatibility"},{"type":4,"timestamp":1551972841,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MjE4NzU3OTg2OQ=="},"nonce":"3YFQRH/4qOMyREveqjUOobKeSFA=","status":2}]}