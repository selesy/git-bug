{"author":{"id":"fced0b9e77135124521af640cc380aed30e8de7e214d7c8ebea4b8fac7d2ced6"},"ops":[{"type":3,"timestamp":1538673855,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQyNzEwMjAxNw==","github-url":"https://github.com/MichaelMure/git-bug/issues/59#issuecomment-427102017"},"nonce":"phwijpwsEG3/G2KuKUJL9tvoq2E=","message":"Here’s a series of checks (in JavaScript, from the `supports-color` module) that determine the level of color support. Please @mention me if you have any questions about what it’s doing:\n\n```js\nif (env.COLORTERM === 'truecolor') {\n  return 3;\n}\n\n\nif ('TERM_PROGRAM' in env) {\n  const version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\n  switch (env.TERM_PROGRAM) {\n    case 'iTerm.app':\n      return version \u003e= 3 ? 3 : 2;\n    case 'Apple_Terminal':\n      return 2;\n    // No default\n  }\n}\n\n\nif (/-256(color)?$/i.test(env.TERM)) {\n  return 2;\n}\n\n\nif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n  return 1;\n}\n\n\nif ('COLORTERM' in env) {\n  return 1;\n}\n\n\nif (env.TERM === 'dumb') {\n  return min;\n}\n```\n\u003csup\u003e[source](https://github.com/chalk/supports-color/blob/c94d6c51f60759f72a93d7c73c99e18dae995d73/index.js#L87-L117)\u003c/sup\u003e","files":null}]}